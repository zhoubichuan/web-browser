---
lang: zh-CN
sidebarDepth: 3
meta:
  - name: description
    content: 个人总结的vuepress学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 五.dom modify

```js
// 新建节点
var li = document.createElement("p") // 新建li元素
var text = document.createTextNode("wenben") // 新建文本

// 插入节点
父节点.appendChild(li) // 父节点的末尾插入
父节点.insertBefore(li, 参照子节点) // 在参照子节点前插入

// 替换节点
// 替换之前的文本依然还在 ，但它在文档中已经没了自己的位置
父节点.replaceChild(新节点, 被替换的子节点) // 替换

// 删除节点
// 移除的节点仍然为文档所有，只不过没有了自己的位置
父节点.removeChild(子节点) // 删除子节点
节点.remove() // 自己删除自己

// 克隆节点
节点.cloneNode(false) // 默认：只复制本身空标签
节点.cloneNode(true) // 本身与所有子节点都复制
```
### 2.4 样式操作

```js
// 兼容所有浏览器

function getStyle(node, cssStyle) {
  // IE获取  标准浏览器
  return node.currentStyle
    ? node.currentStyle[cssStyle]
    : getComputedStyle(node)[cssStyle]
}

getComputedStyle(div)["width"] // 标准浏览器
div.currentStyle["width"] // 兼容 IE 浏览器

// div.style 只能获取到行间的 css 样式
div.style.cssText = "width: 200px;height: 30px;" // 设置 css 样式
div.style.getPropertyValue("width") // 200px 取得宽度值
div.style.removeProperty("width") // 删除 width 属性

// 取得计算后的 css 样式
div.style.cssText = "width:200px"
div.style.getPropertyValue("width") // 取得设置 cssText 的样式
```

### 2.5 classList

```js
div.classList.remove("user") // 删除 user 类
div.classList.add("current") // 添加 current 类
div.classList.toggle("user") // 切换 user 类
div.classList.contains("d") // 判断是否有 d 类
btn.onfocus() // 获取焦点
btn.onblur() // 取消焦点

// 兼容模式
document.compatMode // 标准模式下 CSS1Compat 混杂模式下 BackCompat

// data- 属性
var name = div.dataset.name // 123 取得自定义 data 属性的值
div.dataset.name = "222" // 设置 data 属性的值
```
